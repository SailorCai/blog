(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{372:function(a,s,t){"use strict";t.r(s);var e=t(42),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"docker-入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-入门"}},[a._v("#")]),a._v(" docker 入门")]),a._v(" "),t("p",[a._v("这里目前是一些自己学习的笔记")]),a._v(" "),t("h2",{attrs:{id:"一些常用常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一些常用常用命令"}},[a._v("#")]),a._v(" 一些常用常用命令")]),a._v(" "),t("ul",[t("li",[a._v("定制一个镜像")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker build -t nginx:latest "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])])]),t("p",[t("strong",[a._v("命令解释：")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("-t nginx:latest")]),a._v(": 表示指定镜像的名称和 tag，这里定制的镜像名称叫 nginx，tag 是 latest")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v(".")]),a._v(": 代表依据当前目录的 Dockerfile 定制镜像")])]),a._v(" "),t("ul",[t("li",[a._v("启动一个镜像并指定容器的 name")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3000")]),a._v(":7777 --name blog_hook -d nginx:latest\n")])])]),t("p",[t("strong",[a._v("命令解释：")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("-p 3000:7777")]),a._v(": 指定宿主机和容器的端口映射，3000 代表宿主及端口，7777 代表容器暴露的端口")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("--name")]),a._v(": 为运行镜像的容器指定名称，这样后面就能通过名称操作容器，比如"),t("code",[a._v("docker stop blog_hook")]),a._v("，而不需要使用"),t("code",[a._v("<containerId>")])])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("-d")]),a._v(": 表示启动一个 daemon 实例，em...我也不知道 daemon 实例是啥，简单说就是加了"),t("code",[a._v("-d")]),a._v("后镜像会在后台启动")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("nginx:latest")]),a._v("：这个就是你上面定制镜像是指定的镜像名称和 tag（或者版本号）")])]),a._v(" "),t("ul",[t("li",[a._v("启动已有容器")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker run "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("containerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("containerName"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("ul",[t("li",[a._v("查看运行中的容器")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n")])])]),t("ul",[t("li",[a._v("查看所有容器")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -a\n")])])]),t("ul",[t("li",[a._v("删除指定容器")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("containerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("ul",[t("li",[a._v("同时删除多个状态为“exited”的容器")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("docker container "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" -f "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"status=exited"')]),a._v(" -q"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),t("ul",[t("li",[a._v("删除所有容器")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("docker container "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" -aq"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),t("ul",[t("li",[a._v("进入某个容器的命令行")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("containerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sh")]),a._v("\n")])])]),t("ul",[t("li",[a._v("查看某个容器的日志（实时跟踪）")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker logs -f "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("containerId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("h2",{attrs:{id:"定制一个-nginx-镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定制一个-nginx-镜像"}},[a._v("#")]),a._v(" 定制一个 nginx 镜像")]),a._v(" "),t("p",[a._v("Dockerfile 内容如下：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("FROM nginx:latest\n\nRUN "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'<h1>hello docker !!!</h1>'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /usr/share/nginx/html/index.html\n")])])]),t("p",[t("strong",[a._v("命令解释：")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("FROM nginx:latest")]),a._v(": 以镜像库 nginx 最新版本来构建当前镜像")])]),a._v(" "),t("blockquote",[t("p",[t("code",[a._v("RUN")]),a._v(": 执行命令，其实就是输出了一段 html 内容到容器的 /usr/share/nginx/html/index.html 中")])])])}),[],!1,null,null,null);s.default=r.exports}}]);